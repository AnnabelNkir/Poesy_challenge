(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),c=n.n(o),u=n(5),i=n(4),l=n(1),m="http://localhost:8004/poems";var s=function(e){var t=e.poem,n=e.removePoem,o=e.addToFavorites,c=t.title,u=t.content,i=t.author,s=Object(a.useState)(!1),f=Object(l.a)(s,2),d=f[0],p=f[1];return r.a.createElement("div",null,r.a.createElement("h3",null,c),r.a.createElement("p",null,u),r.a.createElement("p",null,r.a.createElement("strong",null,"- By ",i)),r.a.createElement("button",{onClick:function(){return p(!d)}},"Mark as ",d?"unread":"read"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),fetch("".concat(m,"/").concat(t.id),{method:"DELETE"}),n(t)}},"Delete"),r.a.createElement("button",{onClick:function(){return o(t)}},t.isFavorite?"Unfavorite":"\u2665 Favorite"))};var f=function(e){var t=e.poems,n=e.removePoem,a=e.addToFavorites;return r.a.createElement("div",{className:"poems-container"},t.map(function(e){return r.a.createElement(s,{key:e.id,poem:e,removePoem:n,addToFavorites:a})}))},d="http://localhost:8004/poems";var p=function(e){var t=e.addPoem,n=Object(a.useState)(""),o=Object(l.a)(n,2),c=o[0],u=o[1],i=Object(a.useState)(""),m=Object(l.a)(i,2),s=m[0],f=m[1],p=Object(a.useState)(""),v=Object(l.a)(p,2),h=v[0],b=v[1];return r.a.createElement("form",{className:"new-poem-form",onSubmit:function(e){e.preventDefault(),fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c,content:s,author:h})}).then(function(e){return e.json()}).then(function(e){return t(e)}),u(""),f(""),b("")}},r.a.createElement("input",{placeholder:"Title",value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement("input",{placeholder:"Author",value:h,onChange:function(e){return b(e.target.value)}}),r.a.createElement("textarea",{placeholder:"Write your masterpiece here...",rows:10,value:s,onChange:function(e){return f(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Share your masterpiece"}))},v="http://localhost:8004/poems";var h=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!0),m=Object(l.a)(c,2),s=m[0],d=m[1],h=Object(a.useState)(!0),b=Object(l.a)(h,2),E=b[0],j=b[1],O=n.filter(function(e){return E||e.isFavorite});function S(e){o(n.filter(function(t){return t.id!==e.id}))}function w(e){o(n.map(function(t){return t.id===e.id?Object(u.a)({},e,{isFavorite:!e.isFavorite}):t}))}return Object(a.useEffect)(function(){fetch(v).then(function(e){return e.json()}).then(function(e){return o(e)})},[]),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"sidebar"},r.a.createElement("button",{onClick:function(){return d(!s)}},"Show/hide new poem form"),s?r.a.createElement(p,{addPoem:function(e){o([].concat(Object(i.a)(n),[e]))}}):null,r.a.createElement("button",{onClick:function(){return j(!E)}},"Show/hide Favorite Poems")),0!==O.length||E?r.a.createElement(f,{poems:O,removePoem:S,addToFavorites:w}):r.a.createElement("h1",null,"You have no favorites added"))};n(11);c.a.render(r.a.createElement(h,null),document.getElementById("root"))},6:function(e,t,n){e.exports=n(13)}},[[6,2,1]]]);
//# sourceMappingURL=main.d7cb167f.chunk.js.map