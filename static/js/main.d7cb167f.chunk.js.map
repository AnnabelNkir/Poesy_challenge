{"version":3,"sources":["components/Poem.js","components/PoemsContainer.js","components/NewPoemForm.js","components/App.js","index.js"],"names":["poemAPI","Poem","_ref","poem","removePoem","addToFavorites","title","content","author","_useState","useState","_useState2","Object","slicedToArray","isRead","setIsRead","react_default","a","createElement","onClick","e","preventDefault","fetch","concat","id","method","isFavorite","PoemsContainer","poems","className","map","components_Poem","key","NewPoemForm","addPoem","setTitle","_useState3","_useState4","setContent","_useState5","_useState6","setAuthor","onSubmit","headers","Content-Type","body","JSON","stringify","then","r","json","newPoem","placeholder","value","onChange","target","rows","type","App","setPoems","formVisible","setFormVisible","favoriteVisible","setFavoriteVisible","poemsToDisplay","filter","poemToRemove","favPoem","objectSpread","useEffect","res","data","components_NewPoemForm","toConsumableArray","length","components_PoemsContainer","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.d7cb167f.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nconst poemAPI = \"http://localhost:8004/poems\";\n\nfunction Poem({poem, removePoem, addToFavorites}) {\n  const {title, content, author} = poem;\n  const [isRead, setIsRead] = useState(false)\n\n  function onDeleteClick(e) {\n    e.preventDefault();\n    fetch(`${poemAPI}/${poem.id}`, {\n      method: \"DELETE\",\n    });\n    removePoem(poem);\n  }\n\n  return (\n    <div>\n      <h3>{title}</h3>\n      <p>{content}</p>\n      <p>\n        <strong>- By {author}</strong>\n      </p>\n      <button onClick={() => setIsRead(!isRead)} >\n        Mark as {isRead ? \"unread\" : \"read\" }\n      </button>\n\n      <button onClick={onDeleteClick} >\n        Delete\n      </button>\n\n      <button onClick={() => addToFavorites(poem)}>\n        {poem.isFavorite ? \"Unfavorite\" : \"â™¥ Favorite\" }\n      </button>\n    </div>\n  );\n}\n\nexport default Poem;\n\n","import React from \"react\";\nimport Poem from \"./Poem\";\n\nfunction PoemsContainer({poems, removePoem, addToFavorites}) {\n  return (\n    <div className=\"poems-container\">\n      {poems.map(poem => {\n        return (\n          <Poem \n            key={poem.id} \n            poem={poem} \n            removePoem={removePoem} \n            addToFavorites={addToFavorites} \n          />\n        )\n        })}\n    </div>\n  );\n}\n\nexport default PoemsContainer;","import React, { useState } from 'react';\n\nconst poemAPI = \"http://localhost:8004/poems\";\n\nfunction NewPoemForm({addPoem}) {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetch(poemAPI, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        title,\n        content,\n        author,\n      }),\n    })\n      .then((r) => r.json())\n      .then((newPoem) => addPoem(newPoem));\n\n    setTitle(\"\");\n    setContent(\"\");\n    setAuthor(\"\");\n  }\n\n  return (\n    <form className=\"new-poem-form\" onSubmit={handleSubmit} >\n      <input \n        placeholder=\"Title\" \n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n      />\n\n      <input \n        placeholder=\"Author\" \n        value={author}\n        onChange={(e) => setAuthor(e.target.value)}\n      />\n\n      <textarea \n        placeholder=\"Write your masterpiece here...\" \n        rows={10} \n        value={content}\n        onChange={(e) => setContent(e.target.value)}\n      />\n      \n      <input \n        type=\"submit\" \n        value=\"Share your masterpiece\" \n      />\n    </form>\n  );\n}\n\nexport default NewPoemForm;","import React, { useState, useEffect } from 'react';\nimport PoemsContainer from \"./PoemsContainer\";\nimport NewPoemForm from \"./NewPoemForm\";\n\nconst poemAPI = \"http://localhost:8004/poems\";\n// id, title, content, author\n\nfunction App() {\n  const [poems, setPoems] = useState([]);\n  const [formVisible, setFormVisible] = useState(true);\n  const [favoriteVisible, setFavoriteVisible] = useState(true);\n  const poemsToDisplay = poems.filter((poem) => favoriteVisible || poem.isFavorite);\n\n  useEffect(() => {\n    fetch(poemAPI)\n      .then(res => res.json())\n      .then(data => setPoems(data))\n  }, []);\n\n  function addPoem(newPoem) {\n    setPoems([...poems, newPoem]);\n  }\n\n  function removePoem(poemToRemove) {\n    setPoems(poems.filter(poem => poem.id !== poemToRemove.id))\n  }\n\n  function addToFavorites(favPoem) {\n    setPoems(poems.map(poem => {\n      return poem.id === favPoem.id ? {...favPoem, isFavorite: !favPoem.isFavorite} : poem\n      }  \n    ))\n  }\n\n  function renderPoemView() {\n    if (poemsToDisplay.length === 0 && !favoriteVisible) {\n      return (<h1>You have no favorites added</h1>)\n    } else {\n      return (\n        <PoemsContainer \n          poems={poemsToDisplay} \n          removePoem={removePoem} \n          addToFavorites={addToFavorites}\n        />\n      )\n    }\n  }\n\n  return (\n    <div className=\"app\">\n      <div className=\"sidebar\">\n        <button \n          onClick={() => setFormVisible(!formVisible)} >\n          Show/hide new poem form\n        </button>\n        {formVisible ? <NewPoemForm addPoem={addPoem} /> : null}\n\n        <button onClick={() => setFavoriteVisible(!favoriteVisible)} >\n          Show/hide Favorite Poems\n        </button>\n      </div>\n      {renderPoemView()}\n    </div>\n  );\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}